<!DOCTYPE html><!-- sort the comments by name--><html lang="en" ng-app="padd"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"><title>respoke.Client - respoke.min.js Client Libary</title><meta name="keywords" content=""><meta name="keywords" content=""><link rel="shortcut icon" type="image/ico" href="https://www.respoke.io/favicon.ico"><link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700|Source+Code+Pro"><link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css"><link type="text/css" rel="stylesheet" href="https://www.respoke.io/min/production.css"><link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/docco.min.css"><link type="text/css" rel="stylesheet" href="/css/site.css"><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.13/angular.min.js"></script><script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script><script src="/js/padd.js"></script></head><body data-spy="scroll" data-target=".secondary-nav"><div id="wrap"><div class="public-site"><div ng-controller="NavController" class="topbar-wrapper opaque"><div bfind-class-foo="@isexcited" class="navigation"><div onclick="$(this).next().find('ul.nav-items').toggle()" class="nav-menu-button"><ul><li></li><li></li><li></li></ul></div><div class="nav-container"><a href="" class="www-link"><img src="https://www.respoke.io/images/logo_respoke.png" class="logo"></a><ul ng-show="menuVisibility !== false" class="nav-items"><li><a href="/#howitworks" class="www-link">How it works</a></li><li><a href="/#pricing" class="www-link">Pricing</a></li><li><a href="/">Docs</a></li><li><a href="http://community.respoke.io">Community</a></li><li><a href="/#login" class="visible-xs log-in">log in</a></li><li><a href="javascript:void(0)" onclick="logout()" class="visible-xs log-out">log out</a></li><li><a href="/#sign-up-form" class="visible-xs sign-up">Sign Up</a></li><li><a href="" class="visible-xs portal">PORTAL</a></li></ul><div ng-show="menuVisibility !== false" class="buttons"><a href="/#login" class="log-in www-link">log in</a><a href="javascript:void(0)" onclick="logout()" class="log-out">log out</a><a href="/#sign-up-form" class="sign-up www-link">Sign Up</a><a href="" class="portal">PORTAL</a></div></div></div></div><!-- Main Page Content--><region><div ng-controller="NavController" class="how-it-works"><div class="how-it-works-container"><div id="content"><div class="row"><div class="col-md-2">
<div id="main-sidebar-wrap">
  <ul id="main-sidebar" class="nav affix">
    <li>Getting Started
      <ul>
        <li ng-class="{ active: currentPage == '/' }"><a href="/">Quickstart</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/brokered-auth.html') }"><a href="/tutorials/brokered-auth.html">Authentication</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/calling-to-and-from-a-phone.html') }"><a href="/tutorials/calling-to-and-from-a-phone.html">Calling to and from a Phone</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/connecting-with-asterisk.html') }"><a href="/tutorials/connecting-with-asterisk.html">Connecting with Asterisk</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/direct-connection.html') }"><a href="/tutorials/direct-connection.html">Direct Connections</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/example-apps.html') }"><a href="/tutorials/example-apps.html">Example Apps</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/roles-and-permissions.html') }"><a href="/tutorials/roles-and-permissions.html">Roles &amp; Permissions</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/video-chat.html') }"><a href="/tutorials/video-chat.html">Video Chat</a></li>
      </ul>
    </li>
    <li>Reference
      <ul>
        <li ng-class="{ active: currentPage === ('/reference/changelog.html') }"><a href="/reference/changelog.html">Changelog</a></li>
        <li ng-class="{ active: currentPage === ('/reference/libraries.html') }"><a href="/reference/libraries.html">Libraries</a></li>
        <li ng-class="{ active: currentPage === ('/reference/respoke-js-logs.html') }"><a href="/reference/respoke-js-logs.html">Respoke.js Logs</a></li>
        <li ng-class="{ active: currentPage === ('/reference/rest-api.html') }"><a href="/reference/rest-api.html">REST API Routes</a></li>
      </ul>
    </li>
    <li>FAQs
      <ul>
        <li ng-class="{ active: currentPage === ('/faqs/general.html') }"><a href="/faqs/general.html">General</a></li>
        <li ng-class="{ active: currentPage === ('/faqs/pstn.html') }"><a href="/faqs/pstn.html">PSTN</a></li>
      </ul>
    </li>
    <li>JS Library
      <ul>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.html') }"><a href="/js-library/respoke.html">respoke</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Call.html') }"><a href="/js-library/respoke.Call.html">Call</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Client.html') }"><a href="/js-library/respoke.Client.html">Client</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Connection.html') }"><a href="/js-library/respoke.Connection.html">Connection</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.DirectConnection.html') }"><a href="/js-library/respoke.DirectConnection.html">DirectConnection</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Endpoint.html') }"><a href="/js-library/respoke.Endpoint.html">Endpoint</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.EventEmitter.html') }"><a href="/js-library/respoke.EventEmitter.html">EventEmitter</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Group.html') }"><a href="/js-library/respoke.Group.html">Group</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.LocalMedia.html') }"><a href="/js-library/respoke.LocalMedia.html">LocalMedia</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.MediaStats.html') }"><a href="/js-library/respoke.MediaStats.html">MediaStats</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Presentable.html') }"><a href="/js-library/respoke.Presentable.html">Presentable</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.RemoteMedia.html') }"><a href="/js-library/respoke.RemoteMedia.html">RemoteMedia</a></li>
      </ul>
    </li>
  </ul>
</div></div><div class="col-md-7"><div class="content-wrap"><button id="sidebar-toggle-button" onclick="$('#main-sidebar').toggle();$(this).find('i.glyphicon').toggleClass('hide');" class="btn btn xl btn-primary"><i class="glyphicon glyphicon-th-list"></i><i class="glyphicon glyphicon-remove hide"></i></button><h1 class="center">respoke.Client</h1><div class="visible-xs visible-sm"><br><br><h2 class="visible-xs">respoke.Client</h2><div data-stellar-ratio="0.02" class="secondary-nav affix"><ul class="nav"><li>Properties & Methods</li><li class="active"><a href="#respoke-Client">Overview</a></li><li><a href="#calls">calls</a></li><li><a href="#callSettings">callSettings</a></li><li><a href="#connect">connect</a></li><li><a href="#disconnect">disconnect</a></li><li><a href="#getCall">getCall</a></li><li><a href="#getConnection">getConnection</a></li><li><a href="#getEndpoint">getEndpoint</a></li><li><a href="#getEndpoints">getEndpoints</a></li><li><a href="#getGroup">getGroup</a></li><li><a href="#getGroups">getGroups</a></li><li><a href="#isConnected">isConnected</a></li><li><a href="#join">join</a></li><li><a href="#sendMessage">sendMessage</a></li><li><a href="#setPresence">setPresence</a></li><li><a href="#startCall">startCall</a></li><li>&nbsp;</li><li>Events<li><a href="#respoke-Client-call">call</a></li><li><a href="#respoke-Client-connect">connect</a></li><li><a href="#respoke-Client-direct-connection">direct-connection</a></li><li><a href="#respoke-Client-disconnect">disconnect</a></li><li><a href="#respoke-Client-error">error</a></li><li><a href="#respoke-Client-join">join</a></li><li><a href="#respoke-Client-leave">leave</a></li><li><a href="#respoke-Client-message">message</a></li><li><a href="#respoke-Client-reconnect">reconnect</a></li></li></ul></div></div><div id="respoke-Client" class="ctx top-margin-mlady"><h1 class="left">Overview</h1><p><strong>extends&nbsp;<a href="/js-library/respoke.Presentable.html"><code>respoke.Presentable</code></a></strong></p><div><p><code>respoke.Client</code> is the top-level interface to the API. Interacting with Respoke should be done using
a <code>respoke.Client</code> instance.</p>
<p>There are two ways to get a client:</p>
<pre><code> var client = respoke.createClient(clientParams);
 // . . . set stuff up, then . . .
 client.connect(connectParams);
</code></pre><p>or</p>
<pre><code> // creates client and connects to Respoke all at once
 var client = respoke.connect(allParams);
</code></pre><p>A client does the following things:</p>
<ol>
<li>authentication with the Respoke API</li>
<li>receives server-side app-specific information</li>
<li>tracks connections and presence</li>
<li>provides methods to get and interact with tracked entities (like groups and endpoints)</li>
<li>stores default settings for calls and direct connections</li>
<li>automatically reconnects to the API when network activity is lost*</li>
</ol>
<p>*If <code>developmentMode</code> is set to true. If not using <code>developmentMode</code>, disable automatic
reconnect by sending <code>reconnect: false</code> and listening to the Client&#39;s disconnect event
to fetch a new brokered auth token, then call <code>client.connect()</code> with the new token.</p>
</div></div><div id="calls" class="ctx top-margin-mlady"><h1 class="left monospace"><code>array</code><a href="#calls" class="bold"> calls</a></h1><div><p>Array of calls in progress, made accessible for informational purposes only.
<strong>Never modify this array directly.</strong></p>
</div></div><div id="callSettings" class="ctx top-margin-mlady"><h1 class="left monospace"><code>object</code><a href="#callSettings" class="bold"> callSettings</a></h1><div><p>Default call settings:</p>
<pre><code> constraints: {
     video : true,
     audio : true,
     optional: [],
     mandatory: {}
 },
 servers: {
     iceServers: []
 }
</code></pre></div></div><div id="connect" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#connect"><span class="bold"> connect(params)</span></a></h1><p><strong>returns <code>Promise|undefined</code></strong></p><p><strong>fires </strong><code>connect</code></p><div><p>Connect to the Respoke infrastructure and authenticate using <code>params.token</code>.</p>
<p>After <code>&quot;connect&quot;</code>, the app auth session token is stored so it can be used in API requests.</p>
<p>This method attaches quite a few event listeners for things like group joining and connection status changes.</p>
<h4 id="usage">Usage</h4>
<pre><code> client.connect({
     appId: &quot;XXXX-XXX-XX-XXXX&quot;,
     token: &quot;XXXX-XXX-XX-XXXX&quot;, // if not developmentMode
     developmentMode: false || true
     // if developmentMode, otherwise your server will set endpointId
     endpointId: &quot;billy&quot;
 });
 client.listen(&quot;connect&quot;, function () { } );
</code></pre><p>If no <code>params.token</code> is given and <code>developmentMode</code> is set to true, it will attempt to obtain a token
automatically. You must set an <code>endpointId</code>.</p>
<h4 id="app-auth-session-token-expiration">App auth session token expiration</h4>
<p>If <code>params.reconnect</code> is set to true (which it is by default for <code>developmentMode</code>), the <code>client</code>
will attempt to keep reconnecting each time the app auth session expires.</p>
<p>If not using <code>developmentMode</code>, disable automatic reconnect by sending <code>reconnect: false</code>.
Then listen to the Client&#39;s disconnect event to fetch a new brokered auth token and call
<code>client.connect()</code> with the new token.</p>
<pre><code> client.listen(&#39;disconnect&#39;, function () {

     // example method you implemented to get a new token from your server
     myServer.getNewRespokeAccessToken(function (newToken) {
         // reconnect with respoke.Client
         client.connect({ token: newToken });
     });

 });
</code></pre></div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onSuccess</code></div><div class="col-sm-3"><strong>respoke.Client.connectSuccessHandler</strong></div><div class="col-sm-5">Success handler for this invocation
of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Client.errorHandler</strong></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.appId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The ID of your Respoke app. This must be passed either to
respoke.connect, respoke.createClient, or to client.connect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.token</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The endpoint's authentication token.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.constraints</code></div><div class="col-sm-3"><strong>RTCConstraints</strong></div><div class="col-sm-5">A set of default WebRTC call constraints if you wish to use
different parameters than the built-in defaults.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.servers</code></div><div class="col-sm-3"><strong>RTCICEServers</strong></div><div class="col-sm-5">A set of default WebRTC ICE/STUN/TURN servers if you wish to use
different parameters than the built-in defaults.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.endpointId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">An identifier to use when creating an authentication token for this
endpoint. This is only used when `developmentMode` is set to `true`.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.presence</code></div><div class="col-sm-3"><strong>string, number, object, Array</strong></div><div class="col-sm-5">The initial presence to set once connected.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.resolveEndpointPresence</code></div><div class="col-sm-3"><strong>respoke.client.resolveEndpointPresence</strong></div><div class="col-sm-5">An optional function for
resolving presence for an endpoint. An endpoint can have multiple Connections this function will be used
to decide which Connection's presence gets precedence for the Endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.developmentMode=false</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">Indication to obtain an authentication token from the service.
Note: Your app must be in developer mode to use this feature. This is not intended as a long-term mode of
operation and will limit the services you will be able to use.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.reconnect=true</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">Whether or not to automatically reconnect to the Respoke service
when a disconnect occurs.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onJoin</code></div><div class="col-sm-3"><strong>respoke.Client.onJoin</strong></div><div class="col-sm-5">Callback for when this client's endpoint joins a group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onLeave</code></div><div class="col-sm-3"><strong>respoke.Client.onLeave</strong></div><div class="col-sm-5">Callback for when this client's endpoint leaves
a group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMessage</code></div><div class="col-sm-3"><strong>respoke.Client.onClientMessage</strong></div><div class="col-sm-5">Callback for when any message is
received from anywhere on the system.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onConnect</code></div><div class="col-sm-3"><strong>respoke.Client.onConnect</strong></div><div class="col-sm-5">Callback for Client connect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onDisconnect</code></div><div class="col-sm-3"><strong>respoke.Client.onDisconnect</strong></div><div class="col-sm-5">Callback for Client disconnect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onReconnect</code></div><div class="col-sm-3"><strong>respoke.Client.onReconnect</strong></div><div class="col-sm-5">Callback for Client reconnect. Not Implemented.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onCall</code></div><div class="col-sm-3"><strong>respoke.Client.onCall</strong></div><div class="col-sm-5">Callback for when this client receives a call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onDirectConnection</code></div><div class="col-sm-3"><strong>respoke.Client.onDirectConnection</strong></div><div class="col-sm-5">Callback for when this
client receives a request for a direct connection.</div></div><br class="visible-xs"></div><div id="disconnect" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#disconnect"><span class="bold"> disconnect(params)</span></a></h1><p><strong>returns <code>Promise|undefined</code></strong></p><p><strong>fires </strong><code>disconnect</code></p><div><p>Disconnect from the Respoke infrastructure, leave all groups, invalidate the token, and disconnect the websocket.
<strong>Using callbacks</strong> by passing <code>params.onSuccess</code> or <code>params.onError</code> will disable promises.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onSuccess</code></div><div class="col-sm-3"><strong>disconnectSuccessHandler</strong></div><div class="col-sm-5">Success handler for this invocation of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Client.errorHandler</strong></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"></div><div id="getCall" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getCall"><span class="bold"> getCall(params)</span></a></h1><p><strong>returns <code>respoke.Call</code></strong></p><div><p>Get the Call with the endpoint specified.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.id</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">Call ID.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.endpointId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">Endpoint ID. Warning: If you pass only the endpointId, this method
will just return the first call that matches. If you are placing multiple calls to the same endpoint,
pass in the call ID, too.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.create</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">whether or not to create a new call if the specified endpointId isn't found</div></div><br class="visible-xs"></div><div id="getConnection" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getConnection"><span class="bold"> getConnection(params)</span></a></h1><p><strong>returns <code>respoke.Connection</code></strong></p><div><p>Find a Connection by id and return it.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.connectionId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.endpointId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">An endpointId to use in the creation of this connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMessage</code></div><div class="col-sm-3"><strong>respoke.Endpoint.onMessage</strong></div><div class="col-sm-5">Handle messages sent to the logged-in user
from this one Connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onPresence</code></div><div class="col-sm-3"><strong>respoke.Endpoint.onPresence</strong></div><div class="col-sm-5">Handle presence notifications from this one
Connection.</div></div><br class="visible-xs"></div><div id="getEndpoint" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getEndpoint"><span class="bold"> getEndpoint(params)</span></a></h1><p><strong>returns <code>respoke.Endpoint</code></strong></p><div><p>Find an endpoint by id and return the <code>respoke.Endpoint</code> object.</p>
<p>If it is not already cached locally, will be added to the local cache of tracked endpoints,
its presence will be determined, and will be available in <code>client.getEndpoints()</code>.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.id</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMessage</code></div><div class="col-sm-3"><strong>respoke.Endpoint.onMessage</strong></div><div class="col-sm-5">Handle messages sent to the logged-in user
from this one Endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onPresence</code></div><div class="col-sm-3"><strong>respoke.Endpoint.onPresence</strong></div><div class="col-sm-5">Handle presence notifications from this one
Endpoint.</div></div><br class="visible-xs"></div><div id="getEndpoints" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getEndpoints"><span class="bold"> getEndpoints()</span></a></h1><p><strong>returns <code>Array&lt;respoke.Endpoint&gt;</code></strong></p><div><p>Get the list of <strong>all endpoints</strong> that the library has knowledge of.
These are <code>respoke.Endpoint</code> objects, not just the endpointIds.</p>
<p>The library gains knowledge of an endpoint in two ways:</p>
<ol>
<li>when an endpoint joins a group that the user (currently logged-in endpoint) is a member of (if group presence is enabled)</li>
<li>when an endpoint that the user (currently logged-in endpoint) is watching*</li>
</ol>
<p>*If an endpoint that the library does not know about sends a message to the client, you
can immediately call the <code>client.getEndpoint()</code> method on the sender of the message to enable
watching of the sender&#39;s endpoint.</p>
<pre><code> client.on(&#39;message&#39;, function (data) {
     if (data.endpoint) {
         // start tracking this endpoint.
         client.getEndpoint({ id: data.endpoint.id });
     }
 });
</code></pre></div></div><div id="getGroup" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getGroup"><span class="bold"> getGroup(params)</span></a></h1><p><strong>returns <code>respoke.Group|undefined</code></strong></p><div><p>Find a group by id and return it.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.id</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onJoin</code></div><div class="col-sm-3"><strong>respoke.Group.onJoin</strong></div><div class="col-sm-5">Receive notification that an endpoint has joined this group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onLeave</code></div><div class="col-sm-3"><strong>respoke.Group.onLeave</strong></div><div class="col-sm-5">Receive notification that an endpoint has left this group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMessage</code></div><div class="col-sm-3"><strong>respoke.Group.onMessage</strong></div><div class="col-sm-5">Receive notification that a message has been
received to a group.</div></div><br class="visible-xs"></div><div id="getGroups" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getGroups"><span class="bold"> getGroups()</span></a></h1><p><strong>returns <code>Array&lt;respoke.Group&gt;</code></strong></p><div><p>Get a list of all the groups the client is currently a member of.</p>
</div></div><div id="isConnected" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#isConnected"><span class="bold"> isConnected()</span></a></h1><p><strong>returns <code>boolean</code></strong></p><div><p>Check whether this client is connected to the Respoke API.</p>
</div></div><div id="join" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#join"><span class="bold"> join(params)</span></a></h1><p><strong>returns <code>Promise&lt;respoke.Group&gt;|undefined</code></strong></p><p><strong>fires </strong><code>join</code></p><div><p>Join a group and begin keeping track of it.</p>
<p>You can leave the group by calling <code>group.leave()</code>;</p>
<h5 id="joining-and-leaving-a-group">Joining and leaving a group</h5>
<pre><code> var group;

 client.join({ 
     id: &quot;book-club&quot;,
     onSuccess: function (evt) {
         console.log(&#39;I joined&#39;, evt.group.id);
         // &quot;I joined book-club&quot;
         group = evt.group;
         group.sendMessage({
             message: &#39;sup&#39;
         });
     }
 });

 // . . .
 // Some time later, leave the group.
 // . . .
 group.leave({
     onSuccess: function (evt) {
         console.log(&#39;I left&#39;, evt.group.id);
         // &quot;I left book-club&quot;
     }
 });
</code></pre></div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.id</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The name of the group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onSuccess</code></div><div class="col-sm-3"><strong>respoke.Client.joinHandler</strong></div><div class="col-sm-5">Success handler for this invocation of
this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Client.errorHandler</strong></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMessage</code></div><div class="col-sm-3"><strong>respoke.Group.onMessage</strong></div><div class="col-sm-5">Message handler for messages from this group only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onJoin</code></div><div class="col-sm-3"><strong>respoke.Group.onJoin</strong></div><div class="col-sm-5">Join event listener for endpoints who join this group only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onLeave</code></div><div class="col-sm-3"><strong>respoke.Group.onLeave</strong></div><div class="col-sm-5">Leave event listener for endpoints who leave
this group only.</div></div><br class="visible-xs"></div><div id="sendMessage" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#sendMessage"><span class="bold"> sendMessage(params)</span></a></h1><p><strong>returns <code>Promise|undefined</code></strong></p><div><p>Send a message to an endpoint.
<strong>Using callbacks</strong> by passing <code>params.onSuccess</code> or <code>params.onError</code> will disable promises.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.endpointId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The endpoint id of the recipient.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.connectionId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The optional connection id of the receipient. If not set, message will be
broadcast to all connections for this endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.message</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">a string message.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onSuccess</code></div><div class="col-sm-3"><strong>sendHandler</strong></div><div class="col-sm-5">Success handler for this invocation of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Client.errorHandler</strong></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"></div><div id="setPresence" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#setPresence"><span class="bold"> setPresence(params)</span></a></h1><p><strong>returns <code>Promise|undefined</code></strong></p><div><p>Set the presence for this client.</p>
<p>The value of presence can be a string, number, object, or array - in any format -
depending on the needs of your application. The only requirement is that
<code>JSON.stringify()</code> must work (no circular references).</p>
<pre><code> var myPresence = &#39;At lunch&#39;
                 || 4
                 || { status: &#39;Away&#39;, message: &#39;At lunch&#39; }
                 || [&#39;Away&#39;, &#39;At lunch&#39;];

 client.setPresence({
     presence: myPresence, 
     onSuccess: function (evt) {
         // successfully updated my presence
     }
 });
</code></pre><p><strong>Using callbacks</strong> by passing <code>params.onSuccess</code> or <code>params.onError</code> will disable promises.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.presence</code></div><div class="col-sm-3"><strong>string, number, object, array</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onSuccess</code></div><div class="col-sm-3"><strong>respoke.Client.successHandler</strong></div><div class="col-sm-5">Success handler for this invocation of
this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Client.errorHandler</strong></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"></div><div id="startCall" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#startCall"><span class="bold"> startCall(params)</span></a></h1><p><strong>returns <code>respoke.Call</code></strong></p><div><p>Place an audio and/or video call to an endpoint.</p>
<pre><code>// defaults to video when no constraints are supplied
client.startCall({
    endpointId: &#39;erin&#39;,
    onConnect: function (evt) { },
    onLocalMedia: function (evt) { }
});
</code></pre></div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.endpointId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The id of the endpoint that should be called.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.servers</code></div><div class="col-sm-3"><strong>RTCServers</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.constraints</code></div><div class="col-sm-3"><strong>RTCConstraints</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.connectionId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onLocalMedia</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video element
with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Call.onError</strong></div><div class="col-sm-5">Callback for errors that happen during call setup or
media renegotiation.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onConnect</code></div><div class="col-sm-3"><strong>respoke.Call.onConnect</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video element
with the remote audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAllow</code></div><div class="col-sm-3"><strong>respoke.Call.onAllow</strong></div><div class="col-sm-5">When setting up a call, receive notification that the
browser has granted access to media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onHangup</code></div><div class="col-sm-3"><strong>respoke.Call.onHangup</strong></div><div class="col-sm-5">Callback for being notified when the call has been hung
up.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMute</code></div><div class="col-sm-3"><strong>respoke.Call.onMute</strong></div><div class="col-sm-5">Callback for changing the mute state on any type of media.
This callback will be called when media is muted or unmuted.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAnswer</code></div><div class="col-sm-3"><strong>respoke.Call.onAnswer</strong></div><div class="col-sm-5">Callback for when the callee answers the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onApprove</code></div><div class="col-sm-3"><strong>respoke.Call.onApprove</strong></div><div class="col-sm-5">Callback for when the user approves local media. This
callback will be called whether or not the approval was based on user feedback. I. e., it will be called even if
the approval was automatic.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onRequestingMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onRequestingMedia</strong></div><div class="col-sm-5">Callback for when the app is waiting
for the user to give permission to start getting audio or video.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onStats</code></div><div class="col-sm-3"><strong>respoke.MediaStatsParser.statsHandler</strong></div><div class="col-sm-5">Callback for receiving statistical
information.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.receiveOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">whether or not we accept media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.sendOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">whether or not we send media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.needDirectConnection</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">flag to enable skipping media &amp; opening direct connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.forceTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow peer-to-peer and must flow through
relay servers. If it cannot flow through relay servers, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.disableTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.previewLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.previewLocalMedia</strong></div><div class="col-sm-5">A function to call if the developer
wants to perform an action between local media becoming available and calling approve().</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.connectionId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The connection ID of the remoteEndpoint, if it is not desired to call
all connections belonging to this endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.videoLocalElement</code></div><div class="col-sm-3"><strong>HTMLVideoElement</strong></div><div class="col-sm-5">Pass in an optional html video element to have local video attached to it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.videoRemoteElement</code></div><div class="col-sm-3"><strong>HTMLVideoElement</strong></div><div class="col-sm-5">Pass in an optional html video element to have remote video attached to it.</div></div><br class="visible-xs"></div><h1 class="top-margin-mlady">Events</h1><p>Listen for events on an instance of this class.</p><div id="respoke-Client-call" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-call" class="bold">call</a></h1><div><p>This event provides notification for when an incoming call is being received.  If the user wishes
to allow the call, <code>evt.call.answer()</code>.</p>
</div><pre><code>client.listen('call', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.call</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.endpoint</code></div><div class="col-sm-3"><strong>respoke.Endpoint</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Client-connect" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-connect" class="bold">connect</a></h1><div><p>This event is fired the first time the library connects to the cloud infrastructure.</p>
</div><pre><code>client.listen('connect', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Client-direct-connection" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-direct-connection" class="bold">direct-connection</a></h1><div><p>This event is fired when the local end of the directConnection is available. It still will not be
ready to send and receive messages until the &#39;open&#39; event fires.</p>
</div><pre><code>client.listen('direct-connection', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.directConnection</code></div><div class="col-sm-3"><strong>respoke.DirectConnection</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.endpoint</code></div><div class="col-sm-3"><strong>respoke.Endpoint</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Client-disconnect" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-disconnect" class="bold">disconnect</a></h1><div><p>Client has disconnected from Respoke.</p>
</div><pre><code>client.listen('disconnect', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Client-error" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-error" class="bold">error</a></h1><div><p>This event fires only when the initial <code>connect</code> fails.</p>
</div><pre><code>client.listen('error', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Client-join" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-join" class="bold">join</a></h1><div><p>This event is fired every time the client joins a group. If the client leaves
a group, this event will be fired again on the next time the client joins the group.</p>
</div><pre><code>client.listen('join', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.group</code></div><div class="col-sm-3"><strong>respoke.Group</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"></div><div id="respoke-Client-leave" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-leave" class="bold">leave</a></h1><div><p>This event is fired every time the client leaves a group.</p>
</div><pre><code>client.listen('leave', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.group</code></div><div class="col-sm-3"><strong>respoke.Group</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"></div><div id="respoke-Client-message" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-message" class="bold">message</a></h1><div><p>A generic message handler when a message was received by the client.</p>
</div><pre><code>client.listen('message', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.endpoint</code></div><div class="col-sm-3"><strong>respoke.Endpoint</strong></div><div class="col-sm-5">If the message was private, this is the Endpoint who sent it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.group</code></div><div class="col-sm-3"><strong>respoke.Group</strong></div><div class="col-sm-5">If the message was to a group, this is the group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.message</code></div><div class="col-sm-3"><strong>respoke.TextMessage</strong></div><div class="col-sm-5">The generic message object.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.message.connectionId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.message.endpointId</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.message.message</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">Message body text.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Client-reconnect" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-reconnect" class="bold">reconnect</a></h1><div><p>Client has reconnected to Respoke.</p>
</div><pre><code>client.listen('reconnect', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><br><br><br><br></div></div><div class="col-md-3"><div class="hidden-xs hidden-sm"><h2 class="visible-xs">respoke.Client</h2><div data-stellar-ratio="0.02" class="secondary-nav affix"><ul class="nav"><li>Properties & Methods</li><li class="active"><a href="#respoke-Client">Overview</a></li><li><a href="#calls">calls</a></li><li><a href="#callSettings">callSettings</a></li><li><a href="#connect">connect</a></li><li><a href="#disconnect">disconnect</a></li><li><a href="#getCall">getCall</a></li><li><a href="#getConnection">getConnection</a></li><li><a href="#getEndpoint">getEndpoint</a></li><li><a href="#getEndpoints">getEndpoints</a></li><li><a href="#getGroup">getGroup</a></li><li><a href="#getGroups">getGroups</a></li><li><a href="#isConnected">isConnected</a></li><li><a href="#join">join</a></li><li><a href="#sendMessage">sendMessage</a></li><li><a href="#setPresence">setPresence</a></li><li><a href="#startCall">startCall</a></li><li>&nbsp;</li><li>Events<li><a href="#respoke-Client-call">call</a></li><li><a href="#respoke-Client-connect">connect</a></li><li><a href="#respoke-Client-direct-connection">direct-connection</a></li><li><a href="#respoke-Client-disconnect">disconnect</a></li><li><a href="#respoke-Client-error">error</a></li><li><a href="#respoke-Client-join">join</a></li><li><a href="#respoke-Client-leave">leave</a></li><li><a href="#respoke-Client-message">message</a></li><li><a href="#respoke-Client-reconnect">reconnect</a></li></li></ul></div></div></div></div></div></div></div></region></div><!-- Footer--><region><footer><div class="content-wrap"><section class="copy"><div class="footer"><div class="footer-container"><div class="footer-links"><a href="http://digium.com/respoke"><img src="/images/digium_white.png" class="digium-logo"></a></div><div class="footer-content"><p class="copy">Copyright &copy; 2014 D.C.S, LLC</p><p class="copy"><a href="mailto:info@respoke.io">info@respoke.io</a></p></div><div class="footer-links social-links"><a href="https://twitter.com/respoke"><span class="fa fa-twitter"></span></a><a href="https://www.facebook.com/respokeIO"><span class="fa fa-facebook"></span></a><a href="https://plus.google.com/110089434291590810767" rel="publisher"><span class="fa fa-google-plus"></span></a></div></div></div></section></div></footer></region></div></body></html><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/stellar.js/0.6.2/jquery.stellar.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script>// Scrollspy
// TODO: use angular-ui boostrap version instead
$('body').scrollspy({ target: '.secondary-nav', offset: 150 });

// parallax by http://markdalgleish.com/projects/stellar.js/
$.stellar();

// affixing the sidebar at high resolutions
var resizeEvent = function(event){
  if($(window).width() > 990) {
      affixLeftSidebar();
  }
};
window.addEventListener('resize', resizeEvent);
resizeEvent();

// Showing and login and signup
(function () {
    var token = $.cookie('token');
    var $login = $('.log-in');
    var $logout = $('.log-out');
    var $signup = $('.sign-up');
    var $portal = $('.portal');
    var $wwwlink = $('.www-link');
    var $logo = $('img.logo');
    
    function loggedIn() {
        $login.remove();
        $signup.remove();
        
        $portal.css('display', 'inline-block');
        $logout.css('display', 'inline-block');
    }
    function notLoggedIn() {
        $portal.remove();
        $logout.remove();
        
        //- $login.css('display', 'inline-block');
        //- $signup.css('display', 'inline-block');
    }
    
    var apiBase = window.location.host.replace('docs', 'api').replace(':2003', ':2000');
    var apiUrl = apiBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    apiUrl += apiBase + '/v1/admins/me';
    var publicBase = window.location.host.replace('docs', 'www').replace(':2003', ':2001');
    var publicUrl = publicBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    publicUrl += publicBase;
    var portalBase = window.location.host.replace('docs', 'portal').replace(':2003', ':2002');
    var portalUrl = portalBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    portalUrl += portalBase;
    
    if (token) {
        $.ajax({
            url: apiUrl,
            type: 'GET',
            headers: {
                'Admin-Token': token
            },
            success: loggedIn,
            error: notLoggedIn
        });
    }
    else {
        notLoggedIn();
    }
    
    $portal.attr('href', portalUrl + $portal.attr('href'));
    $wwwlink.each(function () {
        $(this).attr('href', publicUrl + $(this).attr('href'))
    });
    $logo.attr('src', publicUrl + $logo.attr('src').replace('https://www.respoke.io',''));
})();

function logout() {
    $.removeCookie('token', { domain: '.' + window.location.hostname.split('.').slice(-2).join('.') });
    window.location.reload();
}

$.ajax({
      url: '//d3px1qgagsf6ei.cloudfront.net/Scripts/f772acdb-7c45-430c-8c5a-28c3bcbb420e',
      crossDomain: true,
      dataType: 'script',
      success: function () {
          Payboard.Events.trackPage;
      },
      error: function () {
          console.log("There was an error retrieving the payboard tracking script");
      }
});
</script>