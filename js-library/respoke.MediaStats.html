<!DOCTYPE html><!-- sort the comments by name--><html lang="en" ng-app="padd"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"><title>respoke.MediaStats - respoke.min.js Client Libary</title><meta name="keywords" content=""><meta name="keywords" content=""><link rel="shortcut icon" type="image/ico" href="https://www.respoke.io/favicon.ico"><link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700|Source+Code+Pro"><link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css"><link type="text/css" rel="stylesheet" href="https://www.respoke.io/min/production.css"><link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/docco.min.css"><link type="text/css" rel="stylesheet" href="/css/site.css"><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.13/angular.min.js"></script><script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script><script src="/js/padd.js"></script></head><body data-spy="scroll" data-target=".secondary-nav"><div id="wrap"><div class="public-site"><div ng-controller="NavController" class="topbar-wrapper opaque"><div bfind-class-foo="@isexcited" class="navigation"><div onclick="$(this).next().find('ul.nav-items').toggle()" class="nav-menu-button"><ul><li></li><li></li><li></li></ul></div><div class="nav-container"><a href="" class="www-link"><img src="https://www.respoke.io/images/logo_respoke.png" class="logo"></a><ul ng-show="menuVisibility !== false" class="nav-items"><li><a href="/#howitworks" class="www-link">How it works</a></li><li><a href="/#pricing" class="www-link">Pricing</a></li><li><a href="/">Docs</a></li><li><a href="http://community.respoke.io">Community</a></li><li><a href="/#login" class="visible-xs log-in">log in</a></li><li><a href="javascript:void(0)" onclick="logout()" class="visible-xs log-out">log out</a></li><li><a href="/#sign-up-form" class="visible-xs sign-up">Sign Up</a></li><li><a href="" class="visible-xs portal">PORTAL</a></li></ul><div ng-show="menuVisibility !== false" class="buttons"><a href="/#login" class="log-in www-link">log in</a><a href="javascript:void(0)" onclick="logout()" class="log-out">log out</a><a href="/#sign-up-form" class="sign-up www-link">Sign Up</a><a href="" class="portal">PORTAL</a></div></div></div></div><!-- Main Page Content--><region><div ng-controller="NavController" class="how-it-works"><div class="how-it-works-container"><div id="content"><div class="row"><div class="col-md-2">
<div id="main-sidebar-wrap">
  <ul id="main-sidebar" class="nav affix">
    <li>Getting Started
      <ul>
        <li ng-class="{ active: currentPage == '/' }"><a href="/">Quickstart</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/brokered-auth.html') }"><a href="/tutorials/brokered-auth.html">Authentication</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/calling-to-and-from-a-phone.html') }"><a href="/tutorials/calling-to-and-from-a-phone.html">Calling to and from a Phone</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/connecting-with-asterisk.html') }"><a href="/tutorials/connecting-with-asterisk.html">Connecting with Asterisk</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/direct-connection.html') }"><a href="/tutorials/direct-connection.html">Direct Connections</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/example-apps.html') }"><a href="/tutorials/example-apps.html">Example Apps</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/roles-and-permissions.html') }"><a href="/tutorials/roles-and-permissions.html">Roles &amp; Permissions</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/video-chat.html') }"><a href="/tutorials/video-chat.html">Video Chat</a></li>
      </ul>
    </li>
    <li>Reference
      <ul>
        <li ng-class="{ active: currentPage === ('/reference/changelog.html') }"><a href="/reference/changelog.html">Changelog</a></li>
        <li ng-class="{ active: currentPage === ('/reference/libraries.html') }"><a href="/reference/libraries.html">Libraries</a></li>
        <li ng-class="{ active: currentPage === ('/reference/respoke-js-logs.html') }"><a href="/reference/respoke-js-logs.html">Respoke.js Logs</a></li>
        <li ng-class="{ active: currentPage === ('/reference/rest-api.html') }"><a href="/reference/rest-api.html">REST API Routes</a></li>
      </ul>
    </li>
    <li>FAQs
      <ul>
        <li ng-class="{ active: currentPage === ('/faqs/general.html') }"><a href="/faqs/general.html">General</a></li>
        <li ng-class="{ active: currentPage === ('/faqs/pstn.html') }"><a href="/faqs/pstn.html">PSTN</a></li>
      </ul>
    </li>
    <li>JS Library
      <ul>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.html') }"><a href="/js-library/respoke.html">respoke</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Call.html') }"><a href="/js-library/respoke.Call.html">Call</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Client.html') }"><a href="/js-library/respoke.Client.html">Client</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Connection.html') }"><a href="/js-library/respoke.Connection.html">Connection</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.DirectConnection.html') }"><a href="/js-library/respoke.DirectConnection.html">DirectConnection</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Endpoint.html') }"><a href="/js-library/respoke.Endpoint.html">Endpoint</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.EventEmitter.html') }"><a href="/js-library/respoke.EventEmitter.html">EventEmitter</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Group.html') }"><a href="/js-library/respoke.Group.html">Group</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.LocalMedia.html') }"><a href="/js-library/respoke.LocalMedia.html">LocalMedia</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.MediaStats.html') }"><a href="/js-library/respoke.MediaStats.html">MediaStats</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Presentable.html') }"><a href="/js-library/respoke.Presentable.html">Presentable</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.RemoteMedia.html') }"><a href="/js-library/respoke.RemoteMedia.html">RemoteMedia</a></li>
      </ul>
    </li>
  </ul>
</div></div><div class="col-md-7"><div class="content-wrap"><button id="sidebar-toggle-button" onclick="$('#main-sidebar').toggle();$(this).find('i.glyphicon').toggleClass('hide');" class="btn btn xl btn-primary"><i class="glyphicon glyphicon-th-list"></i><i class="glyphicon glyphicon-remove hide"></i></button><h1 class="center">respoke.MediaStats</h1><p>To use this plugin, include:</p><pre><code>&lt;script src=&quot;https://cdn.respoke.io/respoke-stats.min.js&quot;&gt;&lt;/script&gt;</code></pre><div class="visible-xs visible-sm"><br><br><h2 class="visible-xs">respoke.MediaStats</h2><div data-stellar-ratio="0.02" class="secondary-nav affix"><ul class="nav"><li>Properties & Methods</li><li class="active"><a href="#respoke-MediaStats">Overview</a></li><li><a href="#getStats">getStats</a></li><li><a href="#stopStats">stopStats</a></li><li>&nbsp;</li></ul></div></div><div id="respoke-MediaStats" class="ctx top-margin-mlady">&nbsp;<span class="badge">Plugin</span><h1 class="left">Overview</h1><div><p>A report containing statistical information about the flow of media with the latest live statistics.</p>
<p>This is a <strong>plugin</strong> for respoke. To leverage it, include <code>&lt;script src=&quot;https://cdn.respoke.io/respoke-stats.min.js&quot;&gt;&lt;/script&gt;</code>.</p>
<p>The plugin adds the methods <code>getStats()</code> and <code>stopStats()</code> to <code>respoke.Call</code>.</p>
<h2 id="usage">Usage</h2>
<p>Once you have a <code>Call</code> instance after <code>endpoint.startCall()</code> or in the <code>client.on(&#39;call&#39;)</code> / <code>new Client({ onCall: yourCallHandler })</code> event listener:</p>
<p><strong>using callbacks</strong></p>
<pre><code> call.getStats({
     onStats: function continualStatsHandler(evt) { . . . },
     onSuccess: yourOnSuccessHandler,
     onError: yourOnErrorHandler 
 });
</code></pre><p><strong>or using a promise</strong></p>
<pre><code> call.getStats({
     onStats: function continualStatsHandler(evt) { . . . },
 }).done(onSuccess, onFailure);
</code></pre></div></div><div id="getStats" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getStats"><span class="bold"> getStats(params)</span></a></h1><p><strong>returns <code>Promise&lt;object&gt;|undefined</code></strong></p><div><p>Get one snapshot of stats from the call&#39;s PeerConnection.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onSuccess</code></div><div class="col-sm-3"><strong>respoke.MediaStatsParser.statsHandler</strong></div><div class="col-sm-5">Success handler for this
invocation of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Client.errorHandler</strong></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onStats</code></div><div class="col-sm-3"><strong>respoke.MediaStatsParser.statsHandler</strong></div><div class="col-sm-5">Callback accepting a single `event` argument.</div></div><br class="visible-xs"></div><div id="stopStats" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#stopStats"><span class="bold"> stopStats()</span></a></h1><div><p>Stop fetching and processing of call stats.</p>
</div></div><br><br><br><br></div></div><div class="col-md-3"><div class="hidden-xs hidden-sm"><h2 class="visible-xs">respoke.MediaStats</h2><div data-stellar-ratio="0.02" class="secondary-nav affix"><ul class="nav"><li>Properties & Methods</li><li class="active"><a href="#respoke-MediaStats">Overview</a></li><li><a href="#getStats">getStats</a></li><li><a href="#stopStats">stopStats</a></li><li>&nbsp;</li></ul></div></div></div></div></div></div></div></region></div><!-- Footer--><region><footer><div class="content-wrap"><section class="copy"><div class="footer"><div class="footer-container"><div class="footer-links"><a href="http://digium.com/respoke"><img src="/images/digium_white.png" class="digium-logo"></a></div><div class="footer-content"><p class="copy">Copyright &copy; 2014 D.C.S, LLC</p><p class="copy"><a href="mailto:info@respoke.io">info@respoke.io</a></p></div><div class="footer-links social-links"><a href="https://twitter.com/respoke"><span class="fa fa-twitter"></span></a><a href="https://www.facebook.com/respokeIO"><span class="fa fa-facebook"></span></a><a href="https://plus.google.com/110089434291590810767" rel="publisher"><span class="fa fa-google-plus"></span></a></div></div></div></section></div></footer></region></div></body></html><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/stellar.js/0.6.2/jquery.stellar.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script>// Scrollspy
// TODO: use angular-ui boostrap version instead
$('body').scrollspy({ target: '.secondary-nav', offset: 150 });

// parallax by http://markdalgleish.com/projects/stellar.js/
$.stellar();

// affixing the sidebar at high resolutions
var resizeEvent = function(event){
  if($(window).width() > 990) {
      affixLeftSidebar();
  }
};
window.addEventListener('resize', resizeEvent);
resizeEvent();

// Showing and login and signup
(function () {
    var token = $.cookie('token');
    var $login = $('.log-in');
    var $logout = $('.log-out');
    var $signup = $('.sign-up');
    var $portal = $('.portal');
    var $wwwlink = $('.www-link');
    var $logo = $('img.logo');
    
    function loggedIn() {
        $login.remove();
        $signup.remove();
        
        $portal.css('display', 'inline-block');
        $logout.css('display', 'inline-block');
    }
    function notLoggedIn() {
        $portal.remove();
        $logout.remove();
        
        //- $login.css('display', 'inline-block');
        //- $signup.css('display', 'inline-block');
    }
    
    var apiBase = window.location.host.replace('docs', 'api').replace(':2003', ':2000');
    var apiUrl = apiBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    apiUrl += apiBase + '/v1/admins/me';
    var publicBase = window.location.host.replace('docs', 'www').replace(':2003', ':2001');
    var publicUrl = publicBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    publicUrl += publicBase;
    var portalBase = window.location.host.replace('docs', 'portal').replace(':2003', ':2002');
    var portalUrl = portalBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    portalUrl += portalBase;
    
    if (token) {
        $.ajax({
            url: apiUrl,
            type: 'GET',
            headers: {
                'Admin-Token': token
            },
            success: loggedIn,
            error: notLoggedIn
        });
    }
    else {
        notLoggedIn();
    }
    
    $portal.attr('href', portalUrl + $portal.attr('href'));
    $wwwlink.each(function () {
        $(this).attr('href', publicUrl + $(this).attr('href'))
    });
    $logo.attr('src', publicUrl + $logo.attr('src').replace('https://www.respoke.io',''));
})();

function logout() {
    $.removeCookie('token', { domain: '.' + window.location.hostname.split('.').slice(-2).join('.') });
    window.location.reload();
}

$.ajax({
      url: '//d3px1qgagsf6ei.cloudfront.net/Scripts/f772acdb-7c45-430c-8c5a-28c3bcbb420e',
      crossDomain: true,
      dataType: 'script',
      success: function () {
          Payboard.Events.trackPage;
      },
      error: function () {
          console.log("There was an error retrieving the payboard tracking script");
      }
});
</script>