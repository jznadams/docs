<!DOCTYPE html><html lang=en ng-app=padd><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"><title>REST API Routes -</title><meta name=keywords><meta name=keywords><link rel="shortcut icon" type=image/ico href=https://www.respoke.io/favicon.ico><link type=text/css rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700|Source+Code+Pro"><link rel=stylesheet type=text/css href=https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css><link rel=stylesheet type=text/css href=https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css><link type=text/css rel=stylesheet href=https://www.respoke.io/min/production.css><link rel=stylesheet href=https://yandex.st/highlightjs/8.0/styles/docco.min.css><link type=text/css rel=stylesheet href=/css/site.css><script src=https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.13/angular.min.js></script><script src=https://yandex.st/highlightjs/8.0/highlight.min.js></script><script src=/js/padd.js></script></head><body data-spy=scroll data-target=.secondary-nav><div id=wrap><div class=public-site><div ng-controller=NavController class="topbar-wrapper opaque"><div bfind-class-foo=@isexcited class=navigation><div onclick="$(this).next().find('ul.nav-items').toggle()" class=nav-menu-button><ul><li></li><li></li><li></li></ul></div><div class=nav-container><a class=www-link><img src=https://www.respoke.io/images/logo_respoke.png class=logo></a><ul ng-show="menuVisibility !== false" class=nav-items><li><a href=/#howitworks class=www-link>How it works</a></li><li><a href=/#pricing class=www-link>Pricing</a></li><li><a href="/">Docs</a></li><li><a href=http://community.respoke.io>Community</a></li><li><a href=/#login class="visible-xs log-in">log in</a></li><li><a href=javascript:void(0) onclick=logout() class="visible-xs log-out">log out</a></li><li><a href=/#sign-up-form class="visible-xs sign-up">Sign Up</a></li><li><a class="visible-xs portal">PORTAL</a></li></ul><div ng-show="menuVisibility !== false" class=buttons><a href=/#login class="log-in www-link">log in</a><a href=javascript:void(0) onclick=logout() class=log-out>log out</a><a href=/#sign-up-form class="sign-up www-link">Sign Up</a><a class=portal>PORTAL</a></div></div></div></div><region><div ng-controller=NavController class=how-it-works><div class=how-it-works-container><div id=content><div class=row><div class=col-md-2><div id=main-sidebar-wrap><ul id=main-sidebar class="nav affix"><li>Respoke Concepts<ul><li ng-class="{ active: currentPage === '/' }"><a href="/">Quickstart</a></li><li ng-class="{ active: currentPage === ('/concepts/brokered-auth.html') }"><a href=/concepts/brokered-auth.html>Authentication</a></li><li ng-class="{ active: currentPage === ('/concepts/calling-to-and-from-a-phone.html') }"><a href=/concepts/calling-to-and-from-a-phone.html>Calling to and from a Phone</a></li><li ng-class="{ active: currentPage === ('/concepts/connecting-with-asterisk.html') }"><a href=/concepts/connecting-with-asterisk.html>Connecting with Asterisk</a></li><li ng-class="{ active: currentPage === ('/concepts/libraries.html') }"><a href=/concepts/libraries.html>Libraries</a></li><li ng-class="{ active: currentPage === ('/concepts/rest-api.html') }"><a href=/concepts/rest-api.html>REST API Routes</a></li><li ng-class="{ active: currentPage === ('/concepts/roles-and-permissions.html') }"><a href=/concepts/roles-and-permissions.html>Roles &amp; Permissions</a></li></ul></li><li ng-class="{ active: currentPage === '/changelog.html' }"><a href=/changelog.html>Changelog</a></li><li>&nbsp;</li><li>Javascript Client<ul><li><a href=http://respoke.github.io/respoke target=_blank>Reference&nbsp;<i class="glyphicon glyphicon-share"></i></a></li><li ng-class="{ active: currentPage === ('/js-library/direct-connection.html') }"><a href=/js-library/direct-connection.html>Direct Connections</a></li><li ng-class="{ active: currentPage === ('/js-library/example-apps.html') }"><a href=/js-library/example-apps.html>Example Apps</a></li><li ng-class="{ active: currentPage === ('/js-library/respoke-js-logs.html') }"><a href=/js-library/respoke-js-logs.html>Respoke.js Logs</a></li><li ng-class="{ active: currentPage === ('/js-library/video-chat.html') }"><a href=/js-library/video-chat.html>Video Chat</a></li></ul></li><li>Admin API<ul><li>Coming soon</li></ul></li></ul></div></div><div class=col-md-7><div class=content-wrap><button id=sidebar-toggle-button onclick="$('#main-sidebar').toggle();$(this).find('i.glyphicon').toggleClass('hide');" class="btn btn xl btn-primary"><i class="glyphicon glyphicon-th-list"></i><i class="glyphicon glyphicon-remove hide"></i></button><article class=article><section class=content><h1 id=respoke-rest-api>Respoke REST API</h1><p>All REST routes require the header <code>Content-Type: application/json</code>.</p><p><br></p><h1 id=base-url>Base URL</h1><p><code>https://api.respoke.io/v1</code></p><p><br></p><h1 id=authentication-methods>Authentication Methods</h1><p>There are <strong>three ways to authenticate</strong> to Respoke. Each provides a different level of permissions.</p><p><br></p><h2 id=full-admin-auth-partial-admin-auth-app-token-auth>Full Admin Auth &gt; Partial Admin Auth &gt; App Token Auth</h2><p><br></p><h3 id=1-full-admin-auth>1. Full Admin Auth</h3><p>Full API permissions are obtained by <code>POST</code>ing your username and password to <code>[base]/adminsessions</code>.</p><h3 id=2-partial-admin-auth>2. Partial Admin Auth</h3><p>By using the <code>App-Secret</code> header, you can perform API calls to obtain Respoke sessions for your users via <code>POST</code> to <code>[base]/tokens</code>.</p><p><code>App-Secret</code>s are found in the <a href=https://portal.respoke.io/#apps>Dev Console</a>.</p><h3 id=3-app-token-auth>3. App Token Auth</h3><p>Your users authenticate to Respoke using an <code>App-Token</code> obtained when they <code>POST</code> your <code>tokenId</code> to <code>[base]/appauthsessions</code>.</p><p><br><br></p><h1 id=api-routes>API Routes</h1><p><br></p><h2 id=post-base-admin-sessions>POST [base]/admin-sessions</h2><p>Log in with the account username and password. Get an <code>Admin-Token</code>.</p><h5 id=header>Header</h5><p>none</p><h5 id=body>Body</h5><pre><code>{
    &quot;username&quot;: &quot;ada@respoke.io&quot;,
    &quot;password&quot;: &quot;c0unte55love1@ce&quot;
}
</code></pre><h5 id=response>Response</h5><pre><code>{
    &quot;message&quot;: &quot;Authorization successful&quot;,
    &quot;token&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;
}
</code></pre><p><br></p><h2 id=post-base-apps>POST [base]/apps</h2><p>Create an app.</p><h5 id=header>Header</h5><p><code>Admin-Token: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code></p><h5 id=body>Body</h5><pre><code>{
    &quot;name&quot;: &quot;My Example App Name&quot;,
    &quot;description&quot;: &quot;Testing and making things rock.&quot;
}
</code></pre><h5 id=response>Response</h5><pre><code>{
    &quot;name&quot;: &quot;My Example App Name&quot;,
    &quot;description&quot;: &quot;Testing and making things rock.&quot;,
    &quot;accountId&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    &quot;locked&quot;: false,
    &quot;developmentMode&quot;: false,
    &quot;id&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    &quot;secret&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    &quot;createdAt&quot;: &quot;2014-04-23T18:25:43.511Z&quot;,
    &quot;updatedAt&quot;: &quot;2014-04-23T18:25:43.511Z&quot;
}
</code></pre><p><br></p><h2 id=post-base-roles>POST [base]/roles</h2><p>Create <code>roleId</code> and <code>roleName</code> for creating tokens.</p><h5 id=header>Header</h5><p><code>App-Secret: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code></p><h5 id=body>Body</h5><p><em>Example, equivalent to development mode role:</em></p><pre><code>{
    &quot;appId&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    &quot;name&quot;:&quot;your-role-name-here&quot;,
    &quot;mediaRelay&quot;: false,
    &quot;events&quot;: {
        &quot;subscribe&quot;: false,
        &quot;unsubscribe&quot;: false,
    },
    &quot;groups&quot;: {
        &quot;list&quot;: true,
        &quot;*&quot;: {
            &quot;subscribe&quot;: true,
            &quot;unsubscribe&quot;: true,
            &quot;create&quot;: true,
            &quot;destroy&quot;: true,
            &quot;publish&quot;: true,
            &quot;getsubscribers&quot;: true
        }
    }
}
</code></pre><h5 id=response>Response</h5><pre><code>{
    &quot;appId&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    &quot;name&quot;: &quot;your-role-name-here&quot;, // This is the roleName for creating tokens.
    &quot;id&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;, // This is the roleId for creating tokens.
    &quot;mediaRelay&quot;: false,
    &quot;events&quot;: {
        &quot;subscribe&quot;: false,
        &quot;unsubscribe&quot;: false,
    },
    &quot;groups&quot;: {
        &quot;list&quot;: true,
        &quot;*&quot;: {
            &quot;subscribe&quot;: true,
            &quot;unsubscribe&quot;: true,
            &quot;create&quot;: true,
            &quot;destroy&quot;: true,
            &quot;publish&quot;: true,
            &quot;getsubscribers&quot;: true
        }
    },
    &quot;createdAt&quot;: &quot;2014-04-23T18:25:43.511Z&quot;,
    &quot;updatedAt&quot;: &quot;2014-04-23T18:25:43.511Z&quot;
}
</code></pre><p><br></p><h2 id=post-base-tokens>POST [base]/tokens</h2><p>Get an access token <code>tokenId</code> for an end-user.</p><h5 id=header>Header</h5><p><code>App-Secret: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code></p><h5 id=body>Body</h5><pre><code>{
    &quot;appId&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    &quot;endpointId&quot;: &quot;yourendpointwithnospaces&quot;,
    /* response token will expire in this many seconds */
    &quot;ttl&quot;: &quot;86400&quot;,
    /* from POST permissions response &quot;id&quot; (optional if roleName is provided) */
    &quot;roleId&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    /* optional if roleId is provided */
    &quot;roleName&quot;: &quot;your role name&quot;
}
</code></pre><h5 id=response>Response</h5><pre><code>{
    &quot;appId&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    &quot;endpointId&quot;: &quot;yourendpointwithnospaces&quot;,
    &quot;roleId&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    &quot;createTime&quot;: 1404315468,
    &quot;expiryTime&quot;: 1404315468,
    &quot;id&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;,
    &quot;tokenId&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;
}
</code></pre><p><br></p><h2 id=post-base-session-tokens>POST [base]/session-tokens</h2><p>An end-user client posts a <code>tokenId</code> from <code>POST [base]/tokens</code> to authenticate to an app as <code>endpointId</code>.</p><h5 id=header>Header</h5><p><code>App-Token: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code></p><h5 id=body>Body</h5><pre><code>{
    &quot;tokenId&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;
}
</code></pre><h5 id=response>Response</h5><pre><code>{
    &quot;message&quot;: &quot;Authorization successful&quot;,
    &quot;token&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;
}
</code></pre><p><br></p><h2 id=post-base-turn>POST [base]/turn</h2><p>Get TURN credentials.</p><h5 id=header>Header</h5><p><code>App-Token: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code></p><h5 id=body>Body</h5><p>none</p><h5 id=response>Response</h5><pre><code>{
    &quot;username&quot;: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXXXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX.0000000000&quot;,
    &quot;password&quot;: &quot;XXXXXXXXXXXX+XXXXXXXXXXXXXX=&quot;,
    &quot;ttl&quot;: 60,
    &quot;uris&quot;: [
        &quot;turn:54.193.20.11:3478?transport=udp&quot;
    ]
}
</code></pre></section></article><br><br><br><br></div></div><div class=col-md-3></div></div></div></div></div></region></div><region><footer><div class=content-wrap><section class=copy><div class=footer><div class=footer-container><div class=footer-links><a href=http://digium.com/respoke><img src=/images/digium_white.png class=digium-logo></a></div><div class=footer-content><p class=copy>Copyright &copy; 2014 D.C.S, LLC</p><p class=copy><a href=mailto:info@respoke.io>info@respoke.io</a></p></div><div class="footer-links social-links"><a href=https://twitter.com/respoke><span class="fa fa-twitter"></span></a><a href=https://www.facebook.com/respokeIO><span class="fa fa-facebook"></span></a><a href=https://plus.google.com/110089434291590810767 rel=publisher><span class="fa fa-google-plus"></span></a></div></div></div></section></div></footer></region></div></body></html><script src=https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/stellar.js/0.6.2/jquery.stellar.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js></script><script>// Scrollspy
// TODO: use angular-ui boostrap version instead
$('body').scrollspy({ target: '.secondary-nav', offset: 150 });

// parallax by http://markdalgleish.com/projects/stellar.js/
$.stellar();

// affixing the sidebar at high resolutions
var resizeEvent = function(event){
  if($(window).width() > 990) {
      affixLeftSidebar();
  }
};
window.addEventListener('resize', resizeEvent);
resizeEvent();

// Showing and login and signup
(function () {
    var token = $.cookie('token');
    var $login = $('.log-in');
    var $logout = $('.log-out');
    var $signup = $('.sign-up');
    var $portal = $('.portal');
    var $wwwlink = $('.www-link');
    var $logo = $('img.logo');

    function loggedIn() {
        $login.remove();
        $signup.remove();

        $portal.css('display', 'inline-block');
        $logout.css('display', 'inline-block');
    }
    function notLoggedIn() {
        $portal.remove();
        $logout.remove();

        //- $login.css('display', 'inline-block');
        //- $signup.css('display', 'inline-block');
    }

    var apiBase = window.location.host.replace('docs', 'api').replace(':2003', ':2000');
    var apiUrl = apiBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    apiUrl += apiBase + '/v1/admins/me';
    var publicBase = window.location.host.replace('docs', 'www').replace(':2003', ':2001');
    var publicUrl = publicBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    publicUrl += publicBase;
    var portalBase = window.location.host.replace('docs', 'portal').replace(':2003', ':2002');
    var portalUrl = portalBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    portalUrl += portalBase;

    if (token) {
        $.ajax({
            url: apiUrl,
            type: 'GET',
            headers: {
                'Admin-Token': token
            },
            success: loggedIn,
            error: notLoggedIn
        });
    }
    else {
        notLoggedIn();
    }

    $portal.attr('href', portalUrl + $portal.attr('href'));
    $wwwlink.each(function () {
        $(this).attr('href', publicUrl + $(this).attr('href'))
    });
    $logo.attr('src', publicUrl + $logo.attr('src').replace('https://www.respoke.io',''));
})();

function logout() {
    $.removeCookie('token', { domain: '.' + window.location.hostname.split('.').slice(-2).join('.') });
    window.location.reload();
}

$.ajax({
      url: '//d3px1qgagsf6ei.cloudfront.net/Scripts/f772acdb-7c45-430c-8c5a-28c3bcbb420e',
      crossDomain: true,
      dataType: 'script',
      success: function () {
          Payboard.Events.trackPage;
      },
      error: function () {
          console.log("There was an error retrieving the payboard tracking script");
      }
  });</script>