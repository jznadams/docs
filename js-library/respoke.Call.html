<!DOCTYPE html><!-- sort the comments by name--><html lang="en" ng-app="padd"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"><title>respoke.Call - respoke.min.js Client Libary</title><meta name="keywords" content=""><meta name="keywords" content=""><link rel="shortcut icon" type="image/ico" href="https://www.respoke.io/favicon.ico"><link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700|Source+Code+Pro"><link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css"><link type="text/css" rel="stylesheet" href="https://www.respoke.io/min/production.css"><link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/docco.min.css"><link type="text/css" rel="stylesheet" href="/css/site.css"><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.13/angular.min.js"></script><script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script><script src="/js/padd.js"></script></head><body data-spy="scroll" data-target=".secondary-nav"><div id="wrap"><div class="public-site"><div ng-controller="NavController" class="topbar-wrapper opaque"><div bfind-class-foo="@isexcited" class="navigation"><div onclick="$(this).next().find('ul.nav-items').toggle()" class="nav-menu-button"><ul><li></li><li></li><li></li></ul></div><div class="nav-container"><a href="" class="www-link"><img src="https://www.respoke.io/images/logo_respoke.png" class="logo"></a><ul ng-show="menuVisibility !== false" class="nav-items"><li><a href="/#howitworks" class="www-link">How it works</a></li><li><a href="/#pricing" class="www-link">Pricing</a></li><li><a href="/">Docs</a></li><li><a href="http://community.respoke.io">Community</a></li><li><a href="/#login" class="visible-xs log-in">log in</a></li><li><a href="javascript:void(0)" onclick="logout()" class="visible-xs log-out">log out</a></li><li><a href="/#sign-up-form" class="visible-xs sign-up">Sign Up</a></li><li><a href="" class="visible-xs portal">PORTAL</a></li></ul><div ng-show="menuVisibility !== false" class="buttons"><a href="/#login" class="log-in www-link">log in</a><a href="javascript:void(0)" onclick="logout()" class="log-out">log out</a><a href="/#sign-up-form" class="sign-up www-link">Sign Up</a><a href="" class="portal">PORTAL</a></div></div></div></div><!-- Main Page Content--><region><div ng-controller="NavController" class="how-it-works"><div class="how-it-works-container"><div id="content"><div class="row"><div class="col-md-2">
<div id="main-sidebar-wrap">
  <ul id="main-sidebar" class="nav affix">
    <li>Getting Started
      <ul>
        <li ng-class="{ active: currentPage == '/' }"><a href="/">Quickstart</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/brokered-auth.html') }"><a href="/tutorials/brokered-auth.html">Authentication</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/calling-to-and-from-a-phone.html') }"><a href="/tutorials/calling-to-and-from-a-phone.html">Calling to and from a Phone</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/connecting-with-asterisk.html') }"><a href="/tutorials/connecting-with-asterisk.html">Connecting with Asterisk</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/direct-connection.html') }"><a href="/tutorials/direct-connection.html">Direct Connections</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/example-apps.html') }"><a href="/tutorials/example-apps.html">Example Apps</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/roles-and-permissions.html') }"><a href="/tutorials/roles-and-permissions.html">Roles &amp; Permissions</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/video-chat.html') }"><a href="/tutorials/video-chat.html">Video Chat</a></li>
      </ul>
    </li>
    <li>Reference
      <ul>
        <li ng-class="{ active: currentPage === ('/reference/changelog.html') }"><a href="/reference/changelog.html">Changelog</a></li>
        <li ng-class="{ active: currentPage === ('/reference/libraries.html') }"><a href="/reference/libraries.html">Libraries</a></li>
        <li ng-class="{ active: currentPage === ('/reference/respoke-js-logs.html') }"><a href="/reference/respoke-js-logs.html">Respoke.js Logs</a></li>
        <li ng-class="{ active: currentPage === ('/reference/rest-api.html') }"><a href="/reference/rest-api.html">REST API Routes</a></li>
      </ul>
    </li>
    <li>FAQs
      <ul>
        <li ng-class="{ active: currentPage === ('/faqs/general.html') }"><a href="/faqs/general.html">General</a></li>
        <li ng-class="{ active: currentPage === ('/faqs/pstn.html') }"><a href="/faqs/pstn.html">PSTN</a></li>
      </ul>
    </li>
    <li>JS Library
      <ul>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.html') }"><a href="/js-library/respoke.html">respoke</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Call.html') }"><a href="/js-library/respoke.Call.html">Call</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Client.html') }"><a href="/js-library/respoke.Client.html">Client</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Connection.html') }"><a href="/js-library/respoke.Connection.html">Connection</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.DirectConnection.html') }"><a href="/js-library/respoke.DirectConnection.html">DirectConnection</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Endpoint.html') }"><a href="/js-library/respoke.Endpoint.html">Endpoint</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.EventEmitter.html') }"><a href="/js-library/respoke.EventEmitter.html">EventEmitter</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Group.html') }"><a href="/js-library/respoke.Group.html">Group</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.LocalMedia.html') }"><a href="/js-library/respoke.LocalMedia.html">LocalMedia</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.MediaStats.html') }"><a href="/js-library/respoke.MediaStats.html">MediaStats</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Presentable.html') }"><a href="/js-library/respoke.Presentable.html">Presentable</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.RemoteMedia.html') }"><a href="/js-library/respoke.RemoteMedia.html">RemoteMedia</a></li>
      </ul>
    </li>
  </ul>
</div></div><div class="col-md-7"><div class="content-wrap"><button id="sidebar-toggle-button" onclick="$('#main-sidebar').toggle();$(this).find('i.glyphicon').toggleClass('hide');" class="btn btn xl btn-primary"><i class="glyphicon glyphicon-th-list"></i><i class="glyphicon glyphicon-remove hide"></i></button><h1 class="center">respoke.Call</h1><div class="visible-xs visible-sm"><br><br><h2 class="visible-xs">respoke.Call</h2><div data-stellar-ratio="0.02" class="secondary-nav affix"><ul class="nav"><li>Properties & Methods</li><li class="active"><a href="#respoke-Call">Overview</a></li><li><a href="#accept">accept</a></li><li><a href="#answer">answer</a></li><li><a href="#approve">approve</a></li><li><a href="#callDebugReportEnabled">callDebugReportEnabled</a></li><li><a href="#caller">caller</a></li><li><a href="#closeDirectConnection">closeDirectConnection</a></li><li><a href="#getDirectConnection">getDirectConnection</a></li><li><a href="#getLocalElement">getLocalElement</a></li><li><a href="#getRemoteElement">getRemoteElement</a></li><li><a href="#getStats">getStats</a></li><li><a href="#hangup">hangup</a></li><li><a href="#hasAudio">hasAudio</a></li><li><a href="#hasMedia">hasMedia</a></li><li><a href="#hasVideo">hasVideo</a></li><li><a href="#id">id</a></li><li><a href="#incomingMedia">incomingMedia</a></li><li><a href="#isActive">isActive</a></li><li><a href="#muteAudio">muteAudio</a></li><li><a href="#muteVideo">muteVideo</a></li><li><a href="#outgoingMedia">outgoingMedia</a></li><li><a href="#reject">reject</a></li><li><a href="#toggleAudio">toggleAudio</a></li><li><a href="#toggleVideo">toggleVideo</a></li><li><a href="#unmuteAudio">unmuteAudio</a></li><li><a href="#unmuteVideo">unmuteVideo</a></li><li>&nbsp;</li><li>Events<li><a href="#respoke-Call-allow">allow</a></li><li><a href="#respoke-Call-answer">answer</a></li><li><a href="#respoke-Call-approve">approve</a></li><li><a href="#respoke-Call-connect">connect</a></li><li><a href="#respoke-Call-direct-connection">direct-connection</a></li><li><a href="#respoke-Call-error">error</a></li><li><a href="#respoke-Call-hangup">hangup</a></li><li><a href="#respoke-Call-modify">modify</a></li><li><a href="#respoke-Call-mute">mute</a></li><li><a href="#respoke-Call-requesting-media">requesting-media</a></li><li><a href="#respoke-Call-stats">stats</a></li><li><a href="#respoke-Client-call">respoke.Client#call</a></li></li></ul></div></div><div id="respoke-Call" class="ctx top-margin-mlady"><h1 class="left">Overview</h1><p><strong>extends&nbsp;<a href="/js-library/respoke.EventEmitter.html"><code>respoke.EventEmitter</code></a></strong></p><div><p>A <code>respoke.Call</code> is Respoke&#39;s interface into a WebRTC call, including getUserMedia, path and codec negotation,
and call state.</p>
<p>There are several methods on an instance of <code>respoke.Client</code> which return a <code>respoke.Call</code>.</p>
</div></div><div id="accept" class="ctx top-margin-mlady"><h1 class="left monospace"><code></code><a href="#accept" class="bold"> accept</a></h1><p><strong>fires </strong><code>accept</code></p><div><p>Accept a request to modify the media on the call. This method should be called within the Call#modify
event listener, which gives the developer or website user a chance to see what changes are proposed and
to accept or reject them.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.previewLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.previewLocalMedia</strong></div><div class="col-sm-5">A function to call if the developer
wants to perform an action between local media becoming available and calling approve().</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onLocalMedia</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video
element with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onConnect</code></div><div class="col-sm-3"><strong>respoke.Call.onConnect</strong></div><div class="col-sm-5">Callback for the developer to receive the
remote video element.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onHangup</code></div><div class="col-sm-3"><strong>respoke.Call.onHangup</strong></div><div class="col-sm-5">Callback for the developer to be notified about hangup.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.disableTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.receiveOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">Whether or not we accept media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.sendOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">Whether or not we send media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.constraints</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5">Information about the media for this call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.servers</code></div><div class="col-sm-3"><strong>array</strong></div><div class="col-sm-5">A list of sources of network paths to help with negotiating the connection.</div></div><br class="visible-xs"></div><div id="answer" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#answer"><span class="bold"> answer(params)</span></a></h1><p><strong>fires </strong><code>answer</code></p><div><p>Answer the call and start the process of obtaining media. This method is called automatically on the caller&#39;s
side. This method must be called on the callee&#39;s side to indicate that the endpoint does wish to accept the
call. The app will have a later opportunity, by passing a callback named previewLocalMedia, to approve or
reject the call based on whether audio and/or video is working and is working at an acceptable level.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.previewLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.previewLocalMedia</strong></div><div class="col-sm-5">A function to call if the developer
wants to perform an action between local media becoming available and calling approve().</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onLocalMedia</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video
element with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onConnect</code></div><div class="col-sm-3"><strong>respoke.Call.onConnect</strong></div><div class="col-sm-5">Callback for the remote video element.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onHangup</code></div><div class="col-sm-3"><strong>respoke.Call.onHangup</strong></div><div class="col-sm-5">Callback for when the call is ended, whether or not
it was ended in a graceful manner. TODO: add the hangup reason to the Event.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMute</code></div><div class="col-sm-3"><strong>respoke.Call.onMute</strong></div><div class="col-sm-5">Callback for changing the mute state on any type of media.
This callback will be called when media is muted or unmuted.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAnswer</code></div><div class="col-sm-3"><strong>respoke.Call.onAnswer</strong></div><div class="col-sm-5">Callback for when the callee answers the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onRequestingMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onRequestingMedia</strong></div><div class="col-sm-5">Callback for when the app is waiting
for the user to give permission to start getting audio or video.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onApprove</code></div><div class="col-sm-3"><strong>respoke.Call.onApprove</strong></div><div class="col-sm-5">Callback for when the user approves local media. This
callback will be called whether or not the approval was based on user feedback. I. e., it will be called even if
the approval was automatic.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAllow</code></div><div class="col-sm-3"><strong>respoke.Call.onAllow</strong></div><div class="col-sm-5">Callback for when the browser gives us access to the
user's media. This event gets called even if the allow process is automatic, i. e., permission and media is
granted by the browser without asking the user to approve it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.disableTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.receiveOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">Whether or not we accept media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.sendOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">Whether or not we send media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.constraints</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5">Information about the media for this call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.servers</code></div><div class="col-sm-3"><strong>array</strong></div><div class="col-sm-5">A list of sources of network paths to help with negotiating the connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.videoLocalElement</code></div><div class="col-sm-3"><strong>HTMLVideoElement</strong></div><div class="col-sm-5">Pass in an optional html video element to have local video attached to it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.videoRemoteElement</code></div><div class="col-sm-3"><strong>HTMLVideoElement</strong></div><div class="col-sm-5">Pass in an optional html video element to have remote video attached to it.</div></div><br class="visible-xs"></div><div id="approve" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#approve"><span class="bold"> approve()</span></a></h1><p><strong>fires </strong><code>approve</code></p><div><p>Start the process of network and media negotiation. If the app passes in a callback named previewLocalMedia
in order to allow the logged-in person a chance to base their decision to continue the call on whether
audio and/or video is working correctly,
this method must be called on both sides in order to begin the call. If call.approve() is called, the call
will progress as expected. If call.reject() is called, the call will be aborted.</p>
</div></div><div id="callDebugReportEnabled" class="ctx top-margin-mlady"><h1 class="left monospace"><code>boolean</code><a href="#callDebugReportEnabled" class="bold"> callDebugReportEnabled</a></h1><div><p>Informational property. Whether call debugs were enabled on the client during creation.
Changing this value will do nothing.</p>
</div></div><div id="caller" class="ctx top-margin-mlady"><h1 class="left monospace"><code>boolean</code><a href="#caller" class="bold"> caller</a></h1><div><p>Whether or not the client is the caller of the call.</p>
</div></div><div id="closeDirectConnection" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#closeDirectConnection"><span class="bold"> closeDirectConnection()</span></a></h1><div><p>Close the direct connection.</p>
</div></div><div id="getDirectConnection" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getDirectConnection"><span class="bold"> getDirectConnection()</span></a></h1><div><p>Get the direct connection on this call, if it exists.</p>
</div></div><div id="getLocalElement" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getLocalElement"><span class="bold"> getLocalElement()</span></a></h1><p><strong>returns <code>Video</code></strong></p><div><p>Return local video element with the logged-in endpoint&#39;s audio and/or video streams attached to it.</p>
</div></div><div id="getRemoteElement" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getRemoteElement"><span class="bold"> getRemoteElement()</span></a></h1><p><strong>returns <code>Video</code></strong></p><div><p>Return remote video element with the remote endpoint&#39;s audio and/or video streams attached to it.</p>
</div></div><div id="getStats" class="ctx top-margin-mlady"><h1 class="left monospace"><code>function</code><a href="#getStats" class="bold"> getStats</a></h1><div><h2 id="the-plugin-respoke-mediastats-must-be-loaded-before-using-this-method-">The plugin <code>respoke.MediaStats</code> must be loaded before using this method.</h2>
<p>Start the process of listening for a continuous stream of statistics about the flow of audio and/or video.
Since we have to wait for both the answer and offer to be available before starting
statistics, the library returns a promise for the stats object. The statistics object does not contain the
statistics; rather it contains methods of interacting with the actions of obtaining statistics. To obtain
the actual statistics one time, use stats.getStats(); use the onStats callback to obtain a continuous
stream of statistics every <code>interval</code> seconds.  Returns null if stats module is not loaded.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.interval=5000</code></div><div class="col-sm-3"><strong>number</strong></div><div class="col-sm-5">How often in milliseconds to fetch statistics.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onStats</code></div><div class="col-sm-3"><strong>respoke.MediaStatsParser.statsHandler</strong></div><div class="col-sm-5">An optional callback to receive
the stats. If no callback is provided, the call's report will contain stats but the developer will not
receive them on the client-side.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onSuccess</code></div><div class="col-sm-3"><strong>respoke.Call.statsSuccessHandler</strong></div><div class="col-sm-5">Success handler for this invocation of
this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Call.errorHandler</strong></div><div class="col-sm-5">Error handler for this invocation of this method only.</div></div><br class="visible-xs"></div><div id="hangup" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#hangup"><span class="bold"> hangup(params)</span></a></h1><p><strong>fires </strong><code>hangup</code></p><div><p>Tear down the call, release user media.  Send a hangup signal to the remote party if
signal is not false and we have not received a hangup signal from the remote party.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="hasAudio" class="ctx top-margin-mlady"><h1 class="left monospace"><code>boolean</code><a href="#hasAudio" class="bold"> hasAudio</a></h1><div><p>A flag indicating whether this call has audio.</p>
<p>This becomes available after the call is accepted, for the client being called only.</p>
</div></div><div id="hasMedia" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#hasMedia"><span class="bold"> hasMedia()</span></a></h1><p><strong>returns <code>boolean</code></strong></p><div><p>Indicate whether the call has media flowing.</p>
</div></div><div id="hasVideo" class="ctx top-margin-mlady"><h1 class="left monospace"><code>boolean</code><a href="#hasVideo" class="bold"> hasVideo</a></h1><div><p>A flag indicating whether this call has video.</p>
<p>This becomes available after the call is accepted, for the client being called only.</p>
</div></div><div id="id" class="ctx top-margin-mlady"><h1 class="left monospace"><code>string</code><a href="#id" class="bold"> id</a></h1><div><p>The call ID.</p>
</div></div><div id="incomingMedia" class="ctx top-margin-mlady"><h1 class="left monospace"><code>respoke.RemoteMedia</code><a href="#incomingMedia" class="bold"> incomingMedia</a></h1><div><p>Remote media</p>
</div></div><div id="isActive" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#isActive"><span class="bold"> isActive()</span></a></h1><p><strong>returns <code>boolean</code></strong></p><div><p>Indicate whether a call is being setup or is in progress.</p>
</div></div><div id="muteAudio" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#muteAudio"><span class="bold"> muteAudio()</span></a></h1><p><strong>fires </strong><code>mute</code></p><div><p>Mute all local audio streams.</p>
</div></div><div id="muteVideo" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#muteVideo"><span class="bold"> muteVideo()</span></a></h1><p><strong>fires </strong><code>mute</code></p><div><p>Mute all local video streams.</p>
</div></div><div id="outgoingMedia" class="ctx top-margin-mlady"><h1 class="left monospace"><code>respoke.LocalMedia</code><a href="#outgoingMedia" class="bold"> outgoingMedia</a></h1><div><p>Local media</p>
</div></div><div id="reject" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#reject"><span class="bold"> reject(params)</span></a></h1><div><p>Expose hangup as reject for approve/reject workflow.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="toggleAudio" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#toggleAudio"><span class="bold"> toggleAudio()</span></a></h1><div><p>If audio is muted, unmute. If not muted, mute.</p>
</div></div><div id="toggleVideo" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#toggleVideo"><span class="bold"> toggleVideo()</span></a></h1><div><p>If video is muted, unmute. If not muted, mute.</p>
</div></div><div id="unmuteAudio" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#unmuteAudio"><span class="bold"> unmuteAudio()</span></a></h1><p><strong>fires </strong><code>mute</code></p><div><p>Unmute all local audio streams.</p>
</div></div><div id="unmuteVideo" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#unmuteVideo"><span class="bold"> unmuteVideo()</span></a></h1><p><strong>fires </strong><code>mute</code></p><div><p>Unmute all local video streams.</p>
</div></div><h1 class="top-margin-mlady">Events</h1><p>Listen for events on an instance of this class.</p><div id="respoke-Call-allow" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-allow" class="bold">allow</a></h1><div><p>The user has approved the request for media. Any UI changes made to remind the user to click Allow
should be canceled now. This event is the same as the <code>onAllow</code> callback.  This event gets fired
even if the allow process is automatic, i. e., permission and media is granted by the browser
without asking the user to approve it.</p>
</div><pre><code>call.listen('allow', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Call-answer" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-answer" class="bold">answer</a></h1><div><p>The call was answered.</p>
</div><pre><code>call.listen('answer', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Call-approve" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-approve" class="bold">approve</a></h1><div><p>Fired when the local media access is approved.</p>
</div><pre><code>call.listen('approve', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Call-connect" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-connect" class="bold">connect</a></h1><div><p>Indicates that a remote media stream has been added to the call.</p>
</div><pre><code>call.listen('connect', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.element</code></div><div class="col-sm-3"><strong>Element</strong></div><div class="col-sm-5">The HTML5 Video element with the remote stream attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.stream</code></div><div class="col-sm-3"><strong>respoke.RemoteMedia</strong></div><div class="col-sm-5">The incomingMedia property on the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">The event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Call-direct-connection" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-direct-connection" class="bold">direct-connection</a></h1><div><p>This event is fired when the local end of the directConnection is available. It still will not be
ready to send and receive messages until the &#39;open&#39; event fires.</p>
</div><pre><code>call.listen('direct-connection', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.directConnection</code></div><div class="col-sm-3"><strong>respoke.DirectConnection</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.endpoint</code></div><div class="col-sm-3"><strong>respoke.Endpoint</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Call-error" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-error" class="bold">error</a></h1><div><p>This event is fired on errors that occur during call setup or media negotiation.</p>
</div><pre><code>call.listen('error', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.reason</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">A human readable description about the error.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"></div><div id="respoke-Call-hangup" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-hangup" class="bold">hangup</a></h1><div><p>This event is fired when the call has hung up.</p>
</div><pre><code>call.listen('hangup', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.sentSignal</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">Whether or not we sent a 'hangup' signal to the other party.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Call-modify" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-modify" class="bold">modify</a></h1><div><p>Indicates a request to add something to an existing call. If &#39;constraints&#39; is set, evt.constraints
describes the media the other side has added. In this case, call.approve() must be called in order
to approve the new media and send the same type of media.  If directConnection exists, the other side
wishes to to open a direct connection. In order to approve, call directConnection.accept(). In either
case, call.reject() and directConnection.reject() can be called to decline the request to add to the
call.</p>
</div><pre><code>call.listen('modify', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.constraints</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.directConnection</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Call-mute" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-mute" class="bold">mute</a></h1><div><p>This event indicates that local video has been unmuted.</p>
</div><pre><code>call.listen('mute', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.type</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">Either &quot;audio&quot; or &quot;video&quot; to specify the type of stream whose muted state
has been changed.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.muted</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">Whether the stream is now muted. Will be set to false if mute was turned off.</div></div><br class="visible-xs"></div><div id="respoke-Call-requesting-media" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-requesting-media" class="bold">requesting-media</a></h1><div><p>The browser is asking for permission to access the User&#39;s media. This would be an ideal time
to modify the UI of the application so that the user notices the request for permissions
and approves it.</p>
</div><pre><code>call.listen('requesting-media', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><div id="respoke-Call-stats" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Call-stats" class="bold">stats</a></h1><div><p>This event is fired every time statistical information about audio and/or video on a call
becomes available.</p>
</div><pre><code>call.listen('stats', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.stats</code></div><div class="col-sm-3"><strong>respoke.MediaStats</strong></div><div class="col-sm-5">an object with stats in it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"></div><div id="respoke-Client-call" class="ctx top-margin-mlady"><h1 class="left monospace"><code>event</code> <a href="#respoke.Client-call" class="bold">respoke.Client#call</a></h1><div><p>This event provides notification for when an incoming call is being received.  If the user wishes
to allow the call, the app should call evt.call.answer() to answer the call.</p>
</div><pre><code>client.listen('call', function (evt) {
    // handle event
});</code></pre><h3>Callback Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>evt.call</code></div><div class="col-sm-3"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.endpoint</code></div><div class="col-sm-3"><strong>respoke.Endpoint</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.name</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>evt.target</code></div><div class="col-sm-3"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"></div><br><br><br><br></div></div><div class="col-md-3"><div class="hidden-xs hidden-sm"><h2 class="visible-xs">respoke.Call</h2><div data-stellar-ratio="0.02" class="secondary-nav affix"><ul class="nav"><li>Properties & Methods</li><li class="active"><a href="#respoke-Call">Overview</a></li><li><a href="#accept">accept</a></li><li><a href="#answer">answer</a></li><li><a href="#approve">approve</a></li><li><a href="#callDebugReportEnabled">callDebugReportEnabled</a></li><li><a href="#caller">caller</a></li><li><a href="#closeDirectConnection">closeDirectConnection</a></li><li><a href="#getDirectConnection">getDirectConnection</a></li><li><a href="#getLocalElement">getLocalElement</a></li><li><a href="#getRemoteElement">getRemoteElement</a></li><li><a href="#getStats">getStats</a></li><li><a href="#hangup">hangup</a></li><li><a href="#hasAudio">hasAudio</a></li><li><a href="#hasMedia">hasMedia</a></li><li><a href="#hasVideo">hasVideo</a></li><li><a href="#id">id</a></li><li><a href="#incomingMedia">incomingMedia</a></li><li><a href="#isActive">isActive</a></li><li><a href="#muteAudio">muteAudio</a></li><li><a href="#muteVideo">muteVideo</a></li><li><a href="#outgoingMedia">outgoingMedia</a></li><li><a href="#reject">reject</a></li><li><a href="#toggleAudio">toggleAudio</a></li><li><a href="#toggleVideo">toggleVideo</a></li><li><a href="#unmuteAudio">unmuteAudio</a></li><li><a href="#unmuteVideo">unmuteVideo</a></li><li>&nbsp;</li><li>Events<li><a href="#respoke-Call-allow">allow</a></li><li><a href="#respoke-Call-answer">answer</a></li><li><a href="#respoke-Call-approve">approve</a></li><li><a href="#respoke-Call-connect">connect</a></li><li><a href="#respoke-Call-direct-connection">direct-connection</a></li><li><a href="#respoke-Call-error">error</a></li><li><a href="#respoke-Call-hangup">hangup</a></li><li><a href="#respoke-Call-modify">modify</a></li><li><a href="#respoke-Call-mute">mute</a></li><li><a href="#respoke-Call-requesting-media">requesting-media</a></li><li><a href="#respoke-Call-stats">stats</a></li><li><a href="#respoke-Client-call">respoke.Client#call</a></li></li></ul></div></div></div></div></div></div></div></region></div><!-- Footer--><region><footer><div class="content-wrap"><section class="copy"><div class="footer"><div class="footer-container"><div class="footer-links"><a href="http://digium.com/respoke"><img src="/images/digium_white.png" class="digium-logo"></a></div><div class="footer-content"><p class="copy">Copyright &copy; 2014 D.C.S, LLC</p><p class="copy"><a href="mailto:info@respoke.io">info@respoke.io</a></p></div><div class="footer-links social-links"><a href="https://twitter.com/respoke"><span class="fa fa-twitter"></span></a><a href="https://www.facebook.com/respokeIO"><span class="fa fa-facebook"></span></a><a href="https://plus.google.com/110089434291590810767" rel="publisher"><span class="fa fa-google-plus"></span></a></div></div></div></section></div></footer></region></div></body></html><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/stellar.js/0.6.2/jquery.stellar.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script>// Scrollspy
// TODO: use angular-ui boostrap version instead
$('body').scrollspy({ target: '.secondary-nav', offset: 150 });

// parallax by http://markdalgleish.com/projects/stellar.js/
$.stellar();

// affixing the sidebar at high resolutions
var resizeEvent = function(event){
  if($(window).width() > 990) {
      affixLeftSidebar();
  }
};
window.addEventListener('resize', resizeEvent);
resizeEvent();

// Showing and login and signup
(function () {
    var token = $.cookie('token');
    var $login = $('.log-in');
    var $logout = $('.log-out');
    var $signup = $('.sign-up');
    var $portal = $('.portal');
    var $wwwlink = $('.www-link');
    var $logo = $('img.logo');
    
    function loggedIn() {
        $login.remove();
        $signup.remove();
        
        $portal.css('display', 'inline-block');
        $logout.css('display', 'inline-block');
    }
    function notLoggedIn() {
        $portal.remove();
        $logout.remove();
        
        //- $login.css('display', 'inline-block');
        //- $signup.css('display', 'inline-block');
    }
    
    var apiBase = window.location.host.replace('docs', 'api').replace(':2003', ':2000');
    var apiUrl = apiBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    apiUrl += apiBase + '/v1/admins/me';
    var publicBase = window.location.host.replace('docs', 'www').replace(':2003', ':2001');
    var publicUrl = publicBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    publicUrl += publicBase;
    var portalBase = window.location.host.replace('docs', 'portal').replace(':2003', ':2002');
    var portalUrl = portalBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    portalUrl += portalBase;
    
    if (token) {
        $.ajax({
            url: apiUrl,
            type: 'GET',
            headers: {
                'Admin-Token': token
            },
            success: loggedIn,
            error: notLoggedIn
        });
    }
    else {
        notLoggedIn();
    }
    
    $portal.attr('href', portalUrl + $portal.attr('href'));
    $wwwlink.each(function () {
        $(this).attr('href', publicUrl + $(this).attr('href'))
    });
    $logo.attr('src', publicUrl + $logo.attr('src').replace('https://www.respoke.io',''));
})();

function logout() {
    $.removeCookie('token', { domain: '.' + window.location.hostname.split('.').slice(-2).join('.') });
    window.location.reload();
}

$.ajax({
      url: '//d3px1qgagsf6ei.cloudfront.net/Scripts/f772acdb-7c45-430c-8c5a-28c3bcbb420e',
      crossDomain: true,
      dataType: 'script',
      success: function () {
          Payboard.Events.trackPage;
      },
      error: function () {
          console.log("There was an error retrieving the payboard tracking script");
      }
});
</script>